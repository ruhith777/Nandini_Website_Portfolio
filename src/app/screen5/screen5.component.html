<div class="p-5">
    <div class="btn-text-right">
        <button class="btn btn-success mt22" (click)="onpopup()"><span class="fa fa-plus-circle" ></span> Create</button>
    </div>
    <div id="tableName">Company DropDown</div>
    <div class="modalW" role="dialog" *ngIf="showForm" data-backdrop="false">
        <div style="padding: 0px 250px 0px 250px;" class="modal-content">
            <div class="modal-body">
                <form [formGroup]="formapi">
                    <button Name="button" align="right" class="btn btn-danger" (click)="closePopup()" data-dismiss="modal">&times;</button>
                    <h2 *ngIf="isCreate"  class="modal-title">Create</h2>
                    <h2 *ngIf="!isCreate" class="modal-title">Update</h2>
                    <div class="col-md-12">
                        <div class="form-group">
                            <label class="yes">Company Name: </label>
                            <select class="form-control" formControlName="company_Id" (change)="Onchange()">
                                <option [ngValue]="null" placeholder="--select--">--Select--</option>
                                <option *ngFor="let item of arrayAllData" [value]="item.id">
                                    {{item.companyName}}
                                </option>
                            </select>
                        </div>
                        <label for="companyCode">Company Code: <span style="color: red;">*</span></label>
                        <input type="text" class="form-control" formControlName="companyCode"
                            placeholder="Enter Company Code" appTrim [disabled]>
                            
                            <label for="address">Address: <span style="color: red;">*</span></label>
                        <input type="text" class="form-control" formControlName="address"
                            placeholder="Enter Address" appTrim [disabled]>
                            <div style="color: red;" *ngIf="isSubmit && this.formapi.get('address').errors">
                                Address is required
                              </div>
                            <label for="plantId">PlantId: <span style="color: red;">*</span></label>
                        <input type="text" class="form-control" formControlName="plantId"
                            placeholder="Enter Plant Id" appTrim [disabled]>
                            <div style="color: red;" *ngIf="isSubmit && this.formapi.get('plantId').errors">
                                PlantId is required
                              </div>

                            <label for="plantName">Plant Name: <span style="color: red;">*</span></label>
                        <input type="text" class="form-control" formControlName="plantName"
                            placeholder="Enter plantName Code" appTrim [disabled]>
                            <div style="color: red;" *ngIf="isSubmit && this.formapi.get('plantName').errors">
                                PlantName is required
                              </div>

                        <div *ngIf="!isCreate">
                            <label for="status">status: <span style="color:red;">*</span></label>
                            <input type="checkbox" id="enable" name="status" value="1" formControlName="status"
                                placeholder="Enter Status">

                            <label for="enable">Enable</label>
                        </div>


                        
                        <br>
                        <button class="btn btn-primary" (click)="isCreate ? Submit() : Update()">{{isCreate ?"Create" :
                            "Update"}}</button>
                        &nbsp;

                        <button class="btn btn-danger" (click)="Cancel()">Cancel</button>
                        &nbsp;

                        <button class="btn btn-warning" (click)="Reset()"><i class="fa fa-undo"></i>Reset</button>

                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
<h3>List</h3>
<div>
    <table class="table table-bordered datatable" datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger">

        <thead>
            <tr>
                <th>Id</th>
                <th>Company Name</th>
                <th>Company Code</th>
                <th>Address</th>
                <th>Status</th>
                <th>PlantId</th>
                <th>PlantName</th>

                <th>Action</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let item of arrayAll,let i=index ">
                <td>{{i+1}}</td>
                <td>{{item.companyName}}</td>
                <td>{{item.companyCode}}</td>
                <td>{{item.address}}</td>
                <td>{{item.status?'Enable':'Disable'}}</td>
                <td>{{item.plantId}}</td>
                <td>{{item.plantName}}</td>
                <td>
                    <a class="btn btn-primary" (click)="OnEdit(item.id)"><i class="fa fa-pencil"></i></a>
                </td>
            </tr>
        </tbody>
    </table>
</div>